<!DOCTYPE html>
<html>
  <head>
    <title>Domo the awesome music player</title>
    <link rel="stylesheet" href="css/style.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <link rel="icon" type="image/png" href="img/favicon.png">
    <script src="/mopidy/mopidy.min.js"></script>
    <script src="js/bundle.js"></script>
  </head>
  <body>
    <div id="sidebar">
      <ul class="navigation">
        <li data-bind="css: {&quot;navigation-btn-selected&quot;: currentView() == &quot;now-playing&quot;}, click: setView(&quot;now-playing&quot;)" class="navigation-btn"> <span>Now playing</span></li>
        <li data-bind="css: {&quot;navigation-btn-selected&quot;: currentView() == &quot;play-queue&quot;}, click: enterPlayQueue" class="navigation-btn"> <span>Play Queue</span></li>
        <li data-bind="css: {&quot;navigation-btn-selected&quot;: currentView() == &quot;playlists&quot;}, click: setView(&quot;playlists&quot;)" class="navigation-btn"> <span>Playlists</span></li>
        <li data-bind="css: {&quot;navigation-btn-selected&quot;: currentView() == &quot;search&quot;}, click: setView(&quot;search&quot;)" class="navigation-btn"> <span>Search</span></li>
      </ul>
    </div>
    <div id="main">
      <div id="header">
        <div data-bind="click: $root.toggleSidebar" class="sidebar-btn"><i class="glyphicon glyphicon-align-justify"></i></div>
        <div data-bind="css: { &quot;header-visible&quot;: currentView() == &quot;now-playing&quot; ||Â currentView() == &quot;play-queue&quot; || currentView() == &quot;playlists&quot;}" class="view-header">
          <div data-bind="with: currentTrack, click: setView(&quot;now-playing&quot;)" class="track-info">
            <div data-bind="text: $data.name" class="track-info-item track-info-title"></div>
            <div data-bind="foreach: $data.artists" class="track-info-item track-info-artist">
              <!-- ko if: $index() == 0--><span data-bind="text: $data.name"></span>
              <!-- /ko-->
            </div>
          </div>
        </div>
        <div data-bind="css: { &quot;header-visible&quot;: currentView() == &quot;playlist&quot;}, with: currentPlaylist" class="view-header">
          <div data-bind="text: $data.name" class="playlist-name"> </div>
        </div>
        <div data-bind="css: { &quot;header-visible&quot;: currentView() == &quot;search&quot;}" class="view-header">
          <div class="spotify-search">
            <div class="search-input-wrapper"><i class="glyphicon glyphicon-search"></i>
              <input type="text" data-bind="event: { &quot;change&quot;: $root.submitSearch }" class="spotify-search-input">
            </div>
          </div>
        </div>
        <div data-bind="css: { &quot;header-visible&quot;: currentView() == &quot;artist&quot;}, with: $root.currentArtist" class="view-header">
          <div data-bind="text: $data.name" class="playlist-name"> </div>
        </div>
        <div data-bind="css: { &quot;header-visible&quot;: currentView() == &quot;album&quot;}, with: $root.currentAlbum" class="view-header">
          <div data-bind="text: $data.name" class="playlist-name"> </div>
        </div>
      </div>
      <div id="play-queue" data-bind="css: { &quot;view-visible&quot;: currentView() == &quot;play-queue&quot;}, with: queuedTracks" class="view view-visible">
        <div class="search-panel">
          <div class="search-input-wrapper"><i class="glyphicon glyphicon-search"></i>
            <input type="text" data-bind="event: { &quot;keyup&quot;: $root.setSearchKeyword }" class="search-input">
          </div>
        </div>
        <div data-bind="foreach: $root.filterData($data)" class="list">
          <div data-bind="click: $root.playTrack, css: {&quot;current-track&quot;: $root.isCurrentTrack($data)}" class="track"><i class="glyphicon glyphicon-play"></i>
            <div data-bind="foreach: $data.artists" class="track-artist">
              <!-- ko if: $index() == 0--><span data-bind="text: $data.name"></span>
              <!-- /ko-->
            </div>
            <div data-bind="text: $data.name" class="track-title"></div>
          </div>
        </div>
      </div>
      <div id="playlist" data-bind="css: { &quot;view-visible&quot;: currentView() == &quot;playlist&quot;}, with: currentPlaylist" class="view view-visible">
        <div class="search-panel">
          <div class="search-input-wrapper"><i class="glyphicon glyphicon-search"></i>
            <input type="text" data-bind="event: { &quot;keyup&quot;: $root.setSearchKeyword }" class="search-input">
          </div>
        </div>
        <div data-bind="foreach: $root.filterData($data.tracks)" class="list">
          <div data-bind="click: $root.playTrack, css: {&quot;current-track&quot;: $root.isCurrentTrack($data)}" class="track"><i class="glyphicon glyphicon-play"></i>
            <div data-bind="foreach: $data.artists" class="track-artist">
              <!-- ko if: $index() == 0--><span data-bind="text: $data.name"></span>
              <!-- /ko-->
            </div>
            <div data-bind="text: $data.name" class="track-title"></div>
          </div>
        </div>
      </div>
      <div id="playlists" data-bind="css: { &quot;view-visible&quot;: currentView() == &quot;playlists&quot;}" class="view view-visible">
        <div class="search-panel">
          <div class="search-input-wrapper"><i class="glyphicon glyphicon-search"></i>
            <input type="text" data-bind="event: { &quot;keyup&quot;: $root.setSearchKeyword }" class="search-input">
          </div>
        </div>
        <div data-bind="foreach: $root.filterData($root.playlists())" class="list">
          <div data-bind="text: $data.name, click: $root.openPlaylist" class="playlist"></div>
        </div>
      </div>
      <div id="now-playing" data-bind="css: { &quot;view-visible&quot;: currentView() == &quot;now-playing&quot;}" class="view view-visible">
        <div data-bind="with: $root.currentTrack" class="now-playing">
          <div class="album-art">
            <div data-bind="style: { &quot;background-image&quot;: $root.getAlbumBackground() }" class="album-art-cover"></div>
          </div>
        </div>
      </div>
      <div id="search" data-bind="css: { &quot;view-visible&quot;: currentView() == &quot;search&quot;}" class="view view-visible">
        <div class="spotify-search-header">
          <div data-bind="css: {&quot;tab-selected&quot;: $root.currentTab() == &quot;artists&quot;}" class="spotify-search-tab">
            <div data-bind="click: $root.setTab(&quot;artists&quot;)" class="spotify-search-tab-content"><i class="glyphicon glyphicon-search"></i><span>Artists</span></div>
          </div>
          <div data-bind="css: {&quot;tab-selected&quot;: $root.currentTab() == &quot;albums&quot;}" class="spotify-search-tab">
            <div data-bind="click: $root.setTab(&quot;albums&quot;)" class="spotify-search-tab-content"><i class="glyphicon glyphicon-search"></i><span>Albums</span></div>
          </div>
          <div data-bind="css: {&quot;tab-selected&quot;: $root.currentTab() == &quot;tracks&quot;}" class="spotify-search-tab">
            <div data-bind="click: $root.setTab(&quot;tracks&quot;)" class="spotify-search-tab-content"><i class="glyphicon glyphicon-search"></i><span>Tracks</span></div>
          </div>
        </div>
        <div data-bind="css: {&quot;tab-content-visible&quot;: $root.currentTab() == &quot;artists&quot;}" class="tab-content">
          <div data-bind="foreach: $root.searchResults.artists" class="list">
            <div data-bind="click: $root.enterArtistInfo" class="track"><span data-bind="text: $data.name"></span></div>
          </div>
        </div>
        <div data-bind="css: {&quot;tab-content-visible&quot;: $root.currentTab() == &quot;albums&quot;}" class="tab-content">
          <div data-bind="foreach: $root.searchResults.albums" class="list">        
            <div data-bind="click: $root.enterArtistAlbumInfo" class="track">
              <div data-bind="foreach: $data.artists" class="track-artist">
                <!-- ko if: $index() == 0--><span data-bind="text: $data.name"></span>
                <!-- /ko-->
              </div>
              <div data-bind="text: $data.name" class="track-title">            </div>
            </div>
          </div>
        </div>
        <div data-bind="css: {&quot;tab-content-visible&quot;: $root.currentTab() == &quot;tracks&quot;}" class="tab-content">
          <div data-bind="foreach: $root.searchResults.tracks" class="list">
            <div data-bind="click: $root.playTrack, css: {&quot;current-track&quot;: $root.isCurrentTrack($data)}" class="track"><i class="glyphicon glyphicon-play"></i>
              <div data-bind="foreach: $data.artists" class="track-artist">
                <!-- ko if: $index() == 0--><span data-bind="text: $data.name"></span>
                <!-- /ko-->
              </div>
              <div data-bind="text: $data.name" class="track-title">                 </div>
            </div>
          </div>
        </div>
      </div>
      <div id="artist" data-bind="css: { &quot;view-visible&quot;: currentView() == &quot;artist&quot;}" class="view view-visible">
        <div data-bind="foreach: $root.currentAlbums" class="list">
          <div data-bind="text: $data.name, click: $root.enterAlbumInfo" class="track">   </div>
        </div>
      </div>
      <div id="album" data-bind="css: { &quot;view-visible&quot;: currentView() == &quot;album&quot;}" class="view view-visible">
        <div data-bind="foreach: $root.currentTracks" class="list">
          <div data-bind="click: $root.playTrack, css: {&quot;current-track&quot;: $root.isCurrentTrack($data)}" class="track"><i class="glyphicon glyphicon-play"></i>
            <div data-bind="foreach: $data.artists" class="track-artist">
              <!-- ko if: $index() == 0--><span data-bind="text: $data.name"></span>
              <!-- /ko-->
            </div>
            <div data-bind="text: $data.name" class="track-title"></div>
          </div>
        </div>
      </div>
      <div id="footer">
        <div class="view-footer footer-visible">
          <div id="controls">
            <div class="controls">
              <div data-bind="click: $root.playPrevious" class="control-btn"><i class="glyphicon glyphicon-step-backward"></i></div>
              <div data-bind="click: $root.togglePlayState" class="control-btn"><i data-bind="css: { &quot;glyphicon-play&quot;: $root.state() == &quot;paused&quot;, &quot;glyphicon-pause&quot;: $root.state() == &quot;playing&quot; }" class="glyphicon"></i></div>
              <div data-bind="click: $root.playNext" class="control-btn"><i class="glyphicon glyphicon-step-forward"></i></div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div id="loading" data-bind="css: { &quot;loader-visible&quot;: loading }">
      <div class="loader">
        <div class="loader-ball"></div>
      </div>
    </div>
  </body>
</html>